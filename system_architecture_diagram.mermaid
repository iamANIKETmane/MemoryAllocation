graph TB
    subgraph "Application Layer"
        APP["`**Main Application**
        - Game Engine
        - Server
        - Real-time System`"]
        DEMO["`**Demo/Test Program**
        main.cpp`"]
    end
    
    subgraph "Public API Layer"
        IFACE["`**IAllocator Interface**
        ðŸ“‹ *Abstract Base Class*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ + allocate()        â”‚
        â”‚ + deallocate()      â”‚
        â”‚ + owns()            â”‚
        â”‚ + get_stats()       â”‚
        â”‚ + validate_heap()   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        FACTORY["`**AllocatorFactory**
        ðŸ­ *Factory Pattern*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ + createPool()      â”‚
        â”‚ + createBuddy()     â”‚
        â”‚ + createSlab()      â”‚
        â”‚ + createStandard()  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
    end
    
    subgraph "Allocator Implementations"
        POOL["`**FixedPoolAllocator**
        ðŸŽ¯ *Your Current Implementation*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ **Memory Layout:**      â”‚
        â”‚ [Block0][Block1][...]   â”‚
        â”‚ **Free List:**          â”‚
        â”‚ Head â†’ Block3 â†’ Block7  â”‚
        â”‚ **Operations:**         â”‚
        â”‚ â€¢ O(1) allocation       â”‚
        â”‚ â€¢ O(1) deallocation     â”‚
        â”‚ â€¢ Bitmap/FreeList mgmt  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        BUDDY["`**BuddyAllocator**
        ðŸŒ³ *Binary Tree Structure*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ **Tree Structure:**     â”‚
        â”‚      [1024KB]           â”‚
        â”‚     /        \\          â”‚
        â”‚ [512KB]    [512KB]      â”‚
        â”‚ **Operations:**         â”‚
        â”‚ â€¢ Power-of-2 sizes      â”‚
        â”‚ â€¢ Split/Merge blocks    â”‚
        â”‚ â€¢ O(log n) complexity   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        SLAB["`**SlabAllocator**
        ðŸ“¦ *Object-Specific Pools*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ **Slab Layout:**        â”‚
        â”‚ [Obj][Obj][Obj][Free]   â”‚
        â”‚ **Cache Management:**   â”‚
        â”‚ â€¢ Type-specific pools   â”‚
        â”‚ â€¢ Constructor calls     â”‚
        â”‚ â€¢ CPU cache friendly    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        STD["`**StandardAllocator**
        ðŸ”§ *Baseline Wrapper*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ **Wraps:**              â”‚
        â”‚ â€¢ malloc/free           â”‚
        â”‚ â€¢ std::allocator        â”‚
        â”‚ **Purpose:**            â”‚
        â”‚ â€¢ Performance baseline  â”‚
        â”‚ â€¢ Compatibility layer   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
    end
    
    subgraph "Support Systems"
        STATS["`**Statistics Engine**
        ðŸ“Š *Performance Monitoring*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ Allocation counts     â”‚
        â”‚ â€¢ Timing measurements   â”‚
        â”‚ â€¢ Memory usage peaks    â”‚
        â”‚ â€¢ Fragmentation stats   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        DEBUG["`**Debug System**
        ðŸ› *Memory Safety*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ Leak detection        â”‚
        â”‚ â€¢ Corruption checking   â”‚
        â”‚ â€¢ Double-free detection â”‚
        â”‚ â€¢ Poison patterns       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        THREAD["`**Thread Safety**
        ðŸ”’ *Concurrency Control*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ Atomic operations     â”‚
        â”‚ â€¢ Lock-free algorithms  â”‚
        â”‚ â€¢ Memory barriers       â”‚
        â”‚ â€¢ CAS operations        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
    end
    
    subgraph "Utility Layer"
        UTILS["`**Memory Utils**
        ðŸ› ï¸ *Helper Functions*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ Alignment functions   â”‚
        â”‚ â€¢ Pointer arithmetic    â”‚
        â”‚ â€¢ Bit manipulation      â”‚
        â”‚ â€¢ Platform specifics    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        TIMER["`**High-Res Timer**
        â±ï¸ *Performance Measurement*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ Nanosecond precision  â”‚
        â”‚ â€¢ RAII timing           â”‚
        â”‚ â€¢ Statistical analysis  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
    end
    
    subgraph "Testing Framework"
        UNIT["`**Unit Tests**
        âœ… *Individual Components*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ Allocator correctness â”‚
        â”‚ â€¢ Edge case handling    â”‚
        â”‚ â€¢ Error conditions      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        BENCH["`**Benchmark Suite**
        ðŸƒ *Performance Testing*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ Speed comparisons     â”‚
        â”‚ â€¢ Memory patterns       â”‚
        â”‚ â€¢ Multi-threaded tests  â”‚
        â”‚ â€¢ Fragmentation analysisâ”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
        
        STRESS["`**Stress Tests**
        ðŸ’ª *Reliability Testing*
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ Long-running tests    â”‚
        â”‚ â€¢ Memory exhaustion     â”‚
        â”‚ â€¢ Concurrent access     â”‚
        â”‚ â€¢ Error injection       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`"]
    end
    
    %% Relationships
    APP --> IFACE
    DEMO --> IFACE
    
    IFACE --> FACTORY
    FACTORY --> POOL
    FACTORY --> BUDDY
    FACTORY --> SLAB
    FACTORY --> STD
    
    POOL --> STATS
    POOL --> DEBUG
    POOL --> THREAD
    POOL --> UTILS
    POOL --> TIMER
    
    BUDDY --> STATS
    BUDDY --> DEBUG
    BUDDY --> THREAD
    BUDDY --> UTILS
    
    SLAB --> STATS
    SLAB --> DEBUG
    SLAB --> THREAD
    SLAB --> UTILS
    
    STD --> STATS
    
    UNIT --> POOL
    UNIT --> BUDDY
    UNIT --> SLAB
    UNIT --> STD
    
    BENCH --> IFACE
    STRESS --> IFACE
    
    %% Styling
    classDef application fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef interface fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef allocator fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef support fill:#fff8e1,stroke:#e65100,stroke-width:2px
    classDef utility fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef testing fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    
    class APP,DEMO application
    class IFACE,FACTORY interface
    class POOL,BUDDY,SLAB,STD allocator
    class STATS,DEBUG,THREAD support
    class UTILS,TIMER utility
    class UNIT,BENCH,STRESS testing